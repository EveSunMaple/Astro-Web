<!DOCTYPE html><html class=bg-base-300 data-theme=winter lang=zh-cn><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title class=sr-only>SaroProck - Blog</title><script>!function(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches?"winter":"dracula",a=e||t;document.documentElement.setAttribute("data-theme",a)}()</script><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/favicon.ico rel=icon type=image><meta content="Astro v4.13.3" name=generator><title>SaroProck ⚡</title><meta content=一本本子 name=description><link href=https://www.saroprock.com/blog/7%E6%9C%8811%E6%97%A5%E5%88%B07%E6%9C%8817%E6%97%A5%E5%85%B8%E4%BE%8B%E5%A4%8D%E4%B9%A0/ rel=canonical><link href=/fonts/CascadiaCode.woff2 rel=preload type=font/woff2 as=font crossorigin><meta content=true name=astro-view-transitions-enabled><meta content=animate name=astro-view-transitions-fallback><link href=/node_modules/katex/dist/katex.min.css rel=stylesheet><link href=/_astro/about.DdFvzcfH.css rel=stylesheet><script type=module src=/_astro/hoisted.DWdNiCAn.js></script><script>window.va=window.va||function(){(window.vaq=window.vaq||[]).push(arguments)};var script=document.createElement("script");script.defer=!0,script.src="/_vercel/insights/script.js";var head=document.querySelector("head");head.appendChild(script)</script></head><body><div class="w-full bg-base-100 shadow-xl -translate-y-full fixed max-md:translate-y-0 navbar px-2 text-center transform transition-transform z-50"><div class=navbar-start><div class=dropdown><div class="btn btn-ghost" id=content role=button tabindex=0 title=Content><svg viewBox="0 0 512 512" height=32 width=32 class="fill-current swap-off" xmlns=http://www.w3.org/2000/svg><path d=M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z></path></svg></div><ul class="p-2 bg-base-100 dropdown-content menu menu-sm mt-3 rounded-box shadow-xl w-52 z-[1]"><li><a href=/ class="p-4 font-bold text-xl menu-item" target=_self id=header-home tabindex=0 title=home aria-label=首页>首页</a></li><li><a href=/about class="p-4 font-bold text-xl menu-item" target=_self id=header-about tabindex=0 title=about aria-label=关于>关于</a></li><li><a href=/blog class="p-4 font-bold text-xl menu-item" target=_self id=header-blog tabindex=0 title=blog aria-label=博客>博客</a></li><li><a href=/project class="p-4 font-bold text-xl menu-item" target=_self id=header-project tabindex=0 title=project aria-label=项目>项目</a></li><li><a href=/friend class="p-4 font-bold text-xl menu-item" target=_self id=header-friend tabindex=0 title=friend aria-label=朋友>朋友</a></li><li><a href=mailto:contact.evesunmaple@outlook.com class="p-4 font-bold text-xl menu-item" target=_blank id=header-contact tabindex=0 title=contact aria-label=联系>联系</a></li></ul></div></div><div class=navbar-center><a href=/ class="btn btn-ghost text-xl">SaroProck ⚡</a></div><div class=navbar-end><div class="justify-center flex bg-base-100 card h-12 w-12"><label class=hidden for=themeToggle2 id=themeLabel2><span class=sr-only>Theme Toggle</span> <input id=themeToggle2 type=checkbox> <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg class="fill-current h-10 w-10 swap-on"><path d=M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z></path></svg> <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg class="fill-current h-10 w-10 swap-off"><path d=M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z></path></svg></label></div></div></div><div class="m-auto max-w-7xl"><div class="relative gap-4 grid grid-cols-1 lg:grid-cols-4 lg:p-4 md:grid-cols-5 md:p-0 md:top-0 p-0 top-16"><div class="hidden bg-opacity-0 bg-white max-md:hidden md:col-span-1 md:inline md:order-1 order-2 p-2 top-4"><div class="p-4 w-full bg-base-100 card shadow-xl gap-4 flex-col lg:relative mb-8 md:sticky sticky"><div class="p-4 avatar"><img alt=Profile class="mask mask-circle" decoding=async height=300 loading=eager src=/profile.webp width=300></div><ul class="w-full bg-base-100 flex-col flex items-center lg:items-start m-0 menu"><li class="w-full relative"><a href=/ class="p-4 font-bold text-xl items-center justify-center lg:justify-start lg:text-xl md:text-3xl text-center flex" target=_self id=home tabindex=0 title=home><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/home><symbol id=ai:local:menu/home><path d="M8 15s1.6 2 4 2 4-2 4-2m-13-.4v-2.47c0-1.149 0-1.723.148-2.252a4 4 0 0 1 .636-1.3c.327-.442.78-.794 1.687-1.5l2.6-2.022c1.405-1.093 2.108-1.64 2.884-1.85a4 4 0 0 1 2.09 0c.776.21 1.479.757 2.884 1.85l2.6 2.022c.907.706 1.36 1.058 1.687 1.5.29.391.505.832.636 1.3.148.53.148 1.104.148 2.252v2.47c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C17.96 21 16.84 21 14.6 21H9.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C3 17.96 3 16.84 3 14.6Z" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/home></use></svg> </span><span class="hidden lg:inline ml-2">首页</span></a></li><li class="w-full relative"><a href=/about class="p-4 font-bold text-xl items-center justify-center lg:justify-start lg:text-xl md:text-3xl text-center flex" target=_self id=about tabindex=0 title=about><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/about><symbol id=ai:local:menu/about><path d="M12 8h.01M12 11v5m9-4a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/about></use></svg> </span><span class="hidden lg:inline ml-2">关于</span></a></li><li class="w-full relative"><details class=menu-item><summary class="p-4 font-bold text-xl items-center justify-center lg:justify-start lg:text-xl md:text-3xl text-center"><span class=justify-center><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/blog><symbol id=ai:local:menu/blog><path d="M4 19V6.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C5.52 3 6.08 3 7.2 3h9.6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874C20 4.52 20 5.08 20 6.2V17H6a2 2 0 0 0-2 2Zm0 0a2 2 0 0 0 2 2h14M9 7h6m-6 4h6m4 6v4" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/blog></use></svg> </span><span class="hidden lg:inline ml-2">博客</span></summary><ul><li><a href=/blog class="p-4 font-bold text-xl menu-item" target=_self id=header-all tabindex=0 aria-label=所有博客><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/post><symbol id=ai:local:menu/post><path d="m14.869 4.131-.707-.707.707.707Zm-7.054 3.35.274.962-.274-.961ZM5.575 9.84l.975.225-.974-.225ZM3 21l-.974-.225a1 1 0 0 0 1.199 1.2L3 21Zm11.161-2.576-.225-.974.225.974Zm2.358-2.239-.962-.274.961.274Zm3.35-7.054.707.707-.707-.707Zm0-2.262-.707.707.707-.707ZM17.13 4.13l.707-.707-.707.707Zm3.406 4.178L19.586 8l.95.309Zm0-.618-.95.31.95-.31ZM15.44 18.025l.52.854-.52-.854Zm.614-.583.826.563-.826-.563ZM6.558 7.946l.563.827-.563-.827Zm-.583.614.854.52-.854-.52Zm9.716-5.097-.309-.95.309.95Zm.618 0 .309-.95-.309.95ZM9.146 16.268a1 1 0 1 0-1.414-1.415l1.414 1.415ZM10 14.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5.5a.5.5 0 0 1-.5-.5H7A2.5 2.5 0 0 0 9.5 17v-2Zm-.5-.5a.5.5 0 0 1 .5-.5v-2A2.5 2.5 0 0 0 7 14.5h2Zm.5-.5a.5.5 0 0 1 .5.5h2A2.5 2.5 0 0 0 9.5 12v2Zm4.662-10.576-1.87 1.869 1.415 1.414 1.869-1.869-1.415-1.414Zm-1.437 1.614L7.54 6.52l.55 1.923 5.185-1.482-.55-1.923ZM4.601 9.614 2.026 20.775l1.948.45L6.55 10.064l-1.949-.45Zm-1.376 12.36L14.386 19.4l-.45-1.95-11.16 2.577.449 1.948ZM17.48 16.46l1.482-5.185-1.924-.55-1.481 5.186 1.923.55Zm1.227-4.753 1.869-1.869-1.415-1.414-1.868 1.869 1.414 1.414Zm1.869-5.546-2.738-2.737-1.414 1.414 2.738 2.738 1.414-1.415Zm0 3.677c.186-.186.369-.368.51-.534.148-.174.308-.396.402-.686L19.586 8c.02-.061.043-.07-.025.01a7.64 7.64 0 0 1-.4.414l1.415 1.414ZM19.16 7.576c.21.21.324.325.4.414.068.08.045.071.025.01l1.902-.618a2.022 2.022 0 0 0-.402-.687c-.141-.165-.324-.347-.51-.534L19.16 7.576Zm2.327 1.042a2 2 0 0 0 0-1.236L19.586 8l1.902.618Zm-7.102 10.78c.602-.138 1.128-.247 1.574-.519l-1.04-1.708c-.104.064-.247.109-.984.279l.45 1.949Zm1.17-3.487c-.207.726-.26.867-.329.968l1.653 1.126c.294-.431.43-.95.6-1.545l-1.923-.55Zm.404 2.968a3 3 0 0 0 .92-.874l-1.653-1.126a1 1 0 0 1-.306.292l1.04 1.708ZM7.54 6.52c-.594.17-1.114.306-1.545.6L7.12 8.773c.101-.07.242-.122.968-.33L7.54 6.52Zm-.99 3.544c.17-.737.215-.88.28-.985L5.12 8.04c-.27.447-.38.973-.519 1.575l1.949.45ZM5.995 7.12a3 3 0 0 0-.874.92l1.708 1.04a1 1 0 0 1 .292-.307L5.995 7.12Zm9.58-2.282c.21-.21.326-.323.415-.4.08-.067.071-.044.01-.024l-.618-1.902c-.29.094-.512.254-.687.402-.165.141-.347.324-.534.51l1.415 1.414Zm2.264-1.414c-.187-.186-.369-.369-.534-.51a2.022 2.022 0 0 0-.687-.402L16 4.414c-.061-.02-.07-.043.01.025.09.076.205.19.414.4l1.415-1.415ZM16 4.414l.618-1.902a2 2 0 0 0-1.236 0L16 4.414Zm-3.707 2.293 5 5 1.414-1.414-5-5-1.414 1.414Zm-4.56 8.146-5.44 5.44 1.414 1.414 5.44-5.44-1.415-1.414Z" fill=currentColor /></symbol><use xlink:href=#ai:local:menu/post></use></svg> </span><span class="hidden lg:inline ml-2">所有博客</span></a></li><li><a href=/blog/categories/技术 class="p-4 font-bold text-xl menu-item" target=_self id=header-tech tabindex=0 aria-label=技术博客><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/cube><symbol id=ai:local:menu/cube><path d="M12 10.23 3.085 7.024M12 10.231l8.918-3.197M12 10.231v10.648m-6.865-2.302 5.8 2.047c.395.14.592.21.794.237.18.024.362.024.542 0 .202-.028.4-.098.794-.237l5.8-2.047c.769-.271 1.153-.407 1.437-.65a2 2 0 0 0 .563-.796c.135-.349.135-.756.135-1.572V8.442c0-.816 0-1.223-.135-1.572a2.001 2.001 0 0 0-.563-.796c-.284-.243-.668-.379-1.437-.65l-5.8-2.047c-.395-.14-.592-.209-.794-.237a2 2 0 0 0-.542 0c-.202.028-.4.098-.794.237l-5.8 2.047c-.769.271-1.153.407-1.437.65a2 2 0 0 0-.563.796C3 7.218 3 7.625 3 8.441v7.118c0 .816 0 1.223.135 1.572a2 2 0 0 0 .563.796c.284.243.668.379 1.437.65Z" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/cube></use></svg> </span><span class="hidden lg:inline ml-2">技术博客</span></a></li><li><a href=/blog/categories/生活 class="p-4 font-bold text-xl menu-item" target=_self id=header-life tabindex=0 aria-label=生活博客><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/heart><symbol id=ai:local:menu/heart><path d="M3 12h4l2 7 3-14 3 12 2-5h4" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/heart></use></svg> </span><span class="hidden lg:inline ml-2">生活博客</span></a></li><li><a href=/blog/categories class="p-4 font-bold text-xl menu-item" target=_self id=header-categories tabindex=0 aria-label=所有分类><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/categories><symbol id=ai:local:menu/categories><path d="M3 12v3.8c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C4.52 19 5.08 19 6.2 19h11.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C21 17.48 21 16.92 21 15.8V12M3 12h3.675c.489 0 .733 0 .963.055.205.05.4.13.579.24.201.123.374.296.72.642l.126.126c.346.346.519.519.72.642.18.11.375.19.579.24.23.055.474.055.963.055h1.35c.489 0 .733 0 .963-.055.204-.05.4-.13.579-.24.201-.123.374-.296.72-.642l.126-.126c.346-.346.519-.519.72-.642.18-.11.374-.19.579-.24.23-.055.474-.055.964-.055H21M3 12l2.326-5.17c.462-1.024.692-1.537 1.054-1.912a3 3 0 0 1 1.147-.742C8.018 4 8.58 4 9.704 4h4.592c1.124 0 1.686 0 2.177.176a3 3 0 0 1 1.147.742c.362.375.592.888 1.054 1.912L21 12" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/categories></use></svg> </span><span class="hidden lg:inline ml-2">所有分类</span></a></li></ul></details></li><li class="w-full relative"><a href=/project class="p-4 font-bold text-xl items-center justify-center lg:justify-start lg:text-xl md:text-3xl text-center flex" target=_self id=project tabindex=0 title=project><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/project><symbol id=ai:local:menu/project><path d="m7 8-4 3.692L7 16m10-8 4 3.692L17 16M14 4l-4 16" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/project></use></svg> </span><span class="hidden lg:inline ml-2">项目</span></a></li><li class="w-full relative"><a href=/friend class="p-4 font-bold text-xl items-center justify-center lg:justify-start lg:text-xl md:text-3xl text-center flex" target=_self id=friend tabindex=0 title=friend><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/friend><symbol id=ai:local:menu/friend><path d="M10.5 21H5.6c-.56 0-.84 0-1.054-.109a1 1 0 0 1-.437-.437C4 20.24 4 19.96 4 19.4v-1.716c0-.636 0-.953.048-1.218a3 3 0 0 1 2.418-2.418 2.17 2.17 0 0 1 .25-.03 3 3 0 0 1 .488-.015c.156.011.243.027.394.07.145.04.406.159.929.395.311.141.636.256.973.343M15 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0Zm1.498 9.212c-.7-.78-1.867-.989-2.744-.275-.877.713-1 1.906-.311 2.75.388.476 1.312 1.311 2.042 1.948.347.302.52.453.73.515.178.053.387.053.566 0 .21-.061.382-.213.729-.515.73-.637 1.654-1.472 2.043-1.948.688-.844.58-2.044-.312-2.75-.892-.706-2.044-.504-2.743.275Z" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/friend></use></svg> </span><span class="hidden lg:inline ml-2">朋友</span></a></li><li class="w-full relative"><a href=mailto:contact.evesunmaple@outlook.com class="p-4 font-bold text-xl items-center justify-center lg:justify-start lg:text-xl md:text-3xl text-center flex" target=_blank id=contact tabindex=0 title=contact><span class="justify-center inline-flex"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=menu/contact><symbol id=ai:local:menu/contact><path d="M11 19H6.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C3 17.48 3 16.92 3 15.8V8.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C4.52 5 5.08 5 6.2 5h11.6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874C21 6.52 21 7.08 21 8.2V11m-.393-2.738-5.057 3.371c-1.283.856-1.925 1.284-2.618 1.45a4.001 4.001 0 0 1-1.864 0c-.694-.167-1.335-.594-2.618-1.45L3.147 8.1m15.35 7.613c-.7-.78-1.866-.989-2.743-.275-.877.713-1 1.906-.311 2.75.688.844 3.055 2.813 3.055 2.813s2.366-1.97 3.055-2.813c.688-.844.58-2.044-.312-2.75-.892-.706-2.044-.504-2.743.275Z" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use xlink:href=#ai:local:menu/contact></use></svg> </span><span class="hidden lg:inline ml-2">联系</span></a></li></ul><div class="p-4 gap-4 bg-base-200 rounded-lg text-center"><a href=https://afdian.net/a/saroprock class="inline-block leading-[30px] m-[0_5px] no-underline rounded-[10px] text-2xl text-center w-[30px]" target=_blank title="Support my work" aria-label="Support my work"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=social/support><symbol id=ai:local:social/support><path d="M5 2h2v3H5zm4 0h2v3H9zm4 0h2v3h-2zm6 7h-2V7H3v11c0 1.654 1.346 3 3 3h8c1.654 0 3-1.346 3-3h2c1.103 0 2-.897 2-2v-5c0-1.103-.897-2-2-2zm-4 9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V9h10v9zm2-2v-5h2l.002 5H17z" fill=currentColor clip-rule=evenodd fill-rule=evenodd /></symbol><use xlink:href=#ai:local:social/support></use></svg> </a><a href=https://github.com/EveSunMaple class="inline-block leading-[30px] m-[0_5px] no-underline rounded-[10px] text-2xl text-center w-[30px]" target=_blank title=Github aria-label=Github><svg viewBox="0 0 24 24" height=1em width=1em data-icon=social/github><symbol id=ai:local:social/github><path d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" fill=currentColor clip-rule=evenodd fill-rule=evenodd /></symbol><use xlink:href=#ai:local:social/github></use></svg> </a><a href=https://space.bilibili.com/438392347 class="inline-block leading-[30px] m-[0_5px] no-underline rounded-[10px] text-2xl text-center w-[30px]" target=_blank title=BiliBili aria-label=BiliBili><svg viewBox="0 0 24 24" height=1em width=1em data-icon=social/bilibili><symbol id=ai:local:social/bilibili><path d="M18.223 3.086a1.25 1.25 0 0 1 0 1.768L17.08 5.996h1.17A3.75 3.75 0 0 1 22 9.747v7.5a3.75 3.75 0 0 1-3.75 3.75H5.75A3.75 3.75 0 0 1 2 17.247v-7.5a3.75 3.75 0 0 1 3.75-3.75h1.166L5.775 4.855a1.25 1.25 0 1 1 1.767-1.768l2.652 2.652c.079.079.145.165.198.257h3.213c.053-.092.12-.18.199-.258l2.651-2.652a1.25 1.25 0 0 1 1.768 0zm.027 5.42H5.75a1.25 1.25 0 0 0-1.247 1.157l-.003.094v7.5c0 .659.51 1.199 1.157 1.246l.093.004h12.5a1.25 1.25 0 0 0 1.247-1.157l.003-.093v-7.5c0-.69-.56-1.25-1.25-1.25zm-10 2.5c.69 0 1.25.56 1.25 1.25v1.25a1.25 1.25 0 1 1-2.5 0v-1.25c0-.69.56-1.25 1.25-1.25zm7.5 0c.69 0 1.25.56 1.25 1.25v1.25a1.25 1.25 0 1 1-2.5 0v-1.25c0-.69.56-1.25 1.25-1.25z" fill=currentColor /></symbol><use xlink:href=#ai:local:social/bilibili></use></svg> </a><a href=/rss.xml class="inline-block leading-[30px] m-[0_5px] no-underline rounded-[10px] text-2xl text-center w-[30px]" target=_blank title="RSS Feed" aria-label="RSS Feed"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=social/rss><symbol id=ai:local:social/rss><path d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z" fill=currentColor /><path d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z" fill=currentColor /><circle cx=6 cy=18 fill=currentColor r=2 /></symbol><use xlink:href=#ai:local:social/rss></use></svg></a></div></div><div class="w-full bg-base-100 shadow-xl mb-8 no-card"><div class=p-4><div class="btn btn-sm btn-ghost font-bold no-animation w-full">分类</div></div><div class="p-4 flex flex-wrap gap-2.5 max-h-[300px] overflow-auto w-full"><span class=inline><a href=/blog/categories/生活 class="btn btn-sm">生活<div class="badge badge-accent">10</div></a></span><span class=inline><a href=/blog/categories/技术 class="btn btn-sm">技术<div class="badge badge-accent">21</div></a></span><span class=inline><a href=/blog/categories/OI学习笔记 class="btn btn-sm">OI学习笔记<div class="badge badge-accent">19</div></a></span><span class=inline><a href=/blog/categories/题解 class="btn btn-sm">题解<div class="badge badge-accent">2</div></a></span><span class=inline><a href=/blog/categories/动态规划 class="btn btn-sm">动态规划<div class="badge badge-accent">3</div></a></span><span class=inline><a href=/blog/categories/数据结构 class="btn btn-sm">数据结构<div class="badge badge-accent">2</div></a></span><span class=inline><a href=/blog/categories/学科 class="btn btn-sm">学科<div class="badge badge-accent">2</div></a></span><span class=inline><a href=/blog/categories/数论 class="btn btn-sm">数论<div class="badge badge-accent">3</div></a></span><span class=inline><a href=/blog/categories/线性代数 class="btn btn-sm">线性代数<div class="badge badge-accent">3</div></a></span><span class=inline><a href=/blog/categories/作文 class="btn btn-sm">作文<div class="badge badge-accent">2</div></a></span><span class=inline><a href=/blog/categories/搜索 class="btn btn-sm">搜索<div class="badge badge-accent">1</div></a></span><span class=inline><a href=/blog/categories/图论 class="btn btn-sm">图论<div class="badge badge-accent">4</div></a></span><span class=inline><a href=/blog/categories/博弈论 class="btn btn-sm">博弈论<div class="badge badge-accent">1</div></a></span></div></div><div class="w-full bg-base-100 shadow-xl mb-8 no-card"><div class=p-4><div class="btn btn-sm btn-ghost font-bold no-animation w-full">标签</div></div><div class="p-4 flex flex-wrap gap-2.5 max-h-[300px] overflow-auto w-full"><span class=inline><a href=/blog/tag/随笔 class="btn btn-sm">随笔<div class="badge badge-secondary">10</div></a></span><span class=inline><a href=/blog/tag/比赛 class="btn btn-sm">比赛<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/题解 class="btn btn-sm">题解<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/复习 class="btn btn-sm">复习<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/数论 class="btn btn-sm">数论<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/快速幂 class="btn btn-sm">快速幂<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/最大生成树 class="btn btn-sm">最大生成树<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/并查集 class="btn btn-sm">并查集<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/DP class="btn btn-sm">DP<div class="badge badge-secondary">4</div></a></span><span class=inline><a href=/blog/tag/线性动态规划 class="btn btn-sm">线性动态规划<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/cpp class="btn btn-sm">cpp<div class="badge badge-secondary">10</div></a></span><span class=inline><a href=/blog/tag/OI class="btn btn-sm">OI<div class="badge badge-secondary">13</div></a></span><span class=inline><a href=/blog/tag/Splay class="btn btn-sm">Splay<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/平衡树 class="btn btn-sm">平衡树<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/伸展树 class="btn btn-sm">伸展树<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/BST class="btn btn-sm">BST<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/查找二叉树 class="btn btn-sm">查找二叉树<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/Cauchy class="btn btn-sm">Cauchy<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/数学 class="btn btn-sm">数学<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/集合 class="btn btn-sm">集合<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/Frosti class="btn btn-sm">Frosti<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/博客 class="btn btn-sm">博客<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/项目 class="btn btn-sm">项目<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/gcd class="btn btn-sm">gcd<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/exgcd class="btn btn-sm">exgcd<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/逆元 class="btn btn-sm">逆元<div class="badge badge-secondary">3</div></a></span><span class=inline><a href=/blog/tag/同余方程组 class="btn btn-sm">同余方程组<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/中国剩余定理 class="btn btn-sm">中国剩余定理<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/卢卡斯定理 class="btn btn-sm">卢卡斯定理<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/Lucas class="btn btn-sm">Lucas<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/k阶常系数线性递推方程 class="btn btn-sm">k阶常系数线性递推方程<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/k阶齐次线性递推方程 class="btn btn-sm">k阶齐次线性递推方程<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/生成函数 class="btn btn-sm">生成函数<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/特征方程 class="btn btn-sm">特征方程<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/递推 class="btn btn-sm">递推<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/数列 class="btn btn-sm">数列<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/作文 class="btn btn-sm">作文<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/Sperner class="btn btn-sm">Sperner<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/比赛作文 class="btn btn-sm">比赛作文<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/BFS class="btn btn-sm">BFS<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/搜索 class="btn btn-sm">搜索<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/优先队列 class="btn btn-sm">优先队列<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/二叉堆 class="btn btn-sm">二叉堆<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/裴蜀定理 class="btn btn-sm">裴蜀定理<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/欧拉函数 class="btn btn-sm">欧拉函数<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/费马小定理 class="btn btn-sm">费马小定理<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/二项式定理 class="btn btn-sm">二项式定理<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/高斯消元法 class="btn btn-sm">高斯消元法<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/威尔逊定理 class="btn btn-sm">威尔逊定理<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/莫比乌斯函数 class="btn btn-sm">莫比乌斯函数<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/Tarjan class="btn btn-sm">Tarjan<div class="badge badge-secondary">3</div></a></span><span class=inline><a href=/blog/tag/图论 class="btn btn-sm">图论<div class="badge badge-secondary">5</div></a></span><span class=inline><a href=/blog/tag/割点 class="btn btn-sm">割点<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/割边 class="btn btn-sm">割边<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/连通分量 class="btn btn-sm">连通分量<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/无向图 class="btn btn-sm">无向图<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/博弈论 class="btn btn-sm">博弈论<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/SG函数 class="btn btn-sm">SG函数<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/NIM游戏 class="btn btn-sm">NIM游戏<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/ICG游戏 class="btn btn-sm">ICG游戏<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/DAG游戏 class="btn btn-sm">DAG游戏<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/双连通分量 class="btn btn-sm">双连通分量<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/子图 class="btn btn-sm">子图<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/缩点 class="btn btn-sm">缩点<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/强连通分量 class="btn btn-sm">强连通分量<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/日志 class="btn btn-sm">日志<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/最短路 class="btn btn-sm">最短路<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/优化 class="btn btn-sm">优化<div class="badge badge-secondary">3</div></a></span><span class=inline><a href=/blog/tag/状态压缩 class="btn btn-sm">状态压缩<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/动态规划 class="btn btn-sm">动态规划<div class="badge badge-secondary">2</div></a></span><span class=inline><a href=/blog/tag/k阶非常系数线性递推方程 class="btn btn-sm">k阶非常系数线性递推方程<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/k阶非齐次线性递推方程 class="btn btn-sm">k阶非齐次线性递推方程<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/Web class="btn btn-sm">Web<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/Astro class="btn btn-sm">Astro<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/SEO class="btn btn-sm">SEO<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/矩阵 class="btn btn-sm">矩阵<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/线性代数 class="btn btn-sm">线性代数<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/矩阵快速幂 class="btn btn-sm">矩阵快速幂<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/背包 class="btn btn-sm">背包<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/邻接表 class="btn btn-sm">邻接表<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/链式前向星 class="btn btn-sm">链式前向星<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/数据结构 class="btn btn-sm">数据结构<div class="badge badge-secondary">1</div></a></span><span class=inline><a href=/blog/tag/O2 class="btn btn-sm">O2<div class="badge badge-secondary">1</div></a></span></div></div><div class="w-full gap-4 flex-col sticky top-8"><div class="p-4 w-full bg-base-100 card shadow-xl gap-4 grid grid-cols-2 justify-center lg:grid-cols-2 max-h-[600px] mb-b md:grid-cols-1 overflow-hide" id=button-box><button class="btn btn-ghost bg-base-100 card flex h-10 justify-center w-auto" id=themeToggle><label class=hidden for=themeToggle1 id=themeLabel1><span class=sr-only>Theme Toggle</span> <input id=themeToggle1 type=checkbox> <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg class="fill-current h-10 w-10 swap-on"><path d=M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z></path></svg> <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg class="fill-current h-10 w-10 swap-off"><path d=M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z></path></svg></label></button> <button class="btn btn-ghost bg-base-100 card flex h-10 justify-center w-auto" id=backToTop><span class=sr-only>To Top Button</span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill="fill-current w-10 h-10"><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><path d="M12 5V19M12 5L6 11M12 5L18 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=currentColor></path></g></svg></button></div><div class="p-4 w-full bg-base-100 card shadow-xl mb-b overflow-hide max-h-[65vh] menu top-8" id=content-box><div class="h-4 skeleton w-28"></div><br><div class="w-full h-4 skeleton"></div><br><div class="w-full h-4 skeleton"></div><br><div class="w-full h-4 skeleton"></div><br></div></div></div><div class="p-2 bg-opacity-0 bg-white col-span-3 lg:col-span-3 md:col-span-4 md:order-2 order-1"><div><main><div class="relative bg-base-100 card shadow-xl -translate-x-1/2 left-1/2 mb-8 overflow-hidden transform" title=【题解】7月11到7月17典例复习><img alt=【题解】7月11到7月17典例复习 class=card-img decoding=async height=1080 loading=eager src=https://saroprock.oss-cn-hangzhou.aliyuncs.com/img/7%E6%9C%8817%E6%97%A5.jpg width=1920><div class="relative bg-base-100 card leading-6 lg:p-8 main-card md:p-6 p-6 z-10"><h1 id=h1>【题解】7月11到7月17典例复习</h1><div class="mt-2 info"><div class="badge badge-neutral">Mon Jul 17 2023</div><span>&thinsp;</span><div class="mt-2 tags"><a href=/blog/categories/技术 class="btn btn-xs btn-accent">技术 </a><span>&thinsp;</span> <a href=/blog/categories/OI学习笔记 class="btn btn-xs btn-accent">OI学习笔记 </a><span>&thinsp;</span> <a href=/blog/categories/题解 class="btn btn-xs btn-accent">题解 </a><span>&thinsp;</span> <a href=/blog/tag/比赛 class="btn btn-xs btn-secondary">比赛 </a><span>&thinsp;</span> <a href=/blog/tag/题解 class="btn btn-xs btn-secondary">题解 </a><span>&thinsp;</span> <a href=/blog/tag/复习 class="btn btn-xs btn-secondary">复习 </a><span>&thinsp;</span> <a href=/blog/tag/数论 class="btn btn-xs btn-secondary">数论 </a><span>&thinsp;</span> <a href=/blog/tag/快速幂 class="btn btn-xs btn-secondary">快速幂 </a><span>&thinsp;</span> <a href=/blog/tag/最大生成树 class="btn btn-xs btn-secondary">最大生成树 </a><span>&thinsp;</span> <a href=/blog/tag/并查集 class="btn btn-xs btn-secondary">并查集 </a><span>&thinsp;</span></div></div><hr><h2 id=前言>前言</h2><blockquote><p>因为网盘还没有搭建好，题面 PDF 无法上传，所以暂时没有题面</p></blockquote><h2 id=7-月-17-日>7 月 17 日</h2><h3 id=1-maruyu>1. maruyu</h3><p>是一道让我非常头疼的数论题面，刚刚好让我好好复习一下。</p><p>回顾一下题面，要用<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=application/x-tex>n + 1</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6667em;vertical-align:-.0833em class=strut></span><span class="mord mathnormal">n</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6444em class=strut></span><span class=mord>1</span></span></span></span>艘船运送<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>种物质，而且要满足一下两个条件：</p><ol><li>没有任何一种物质同时被<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mn>0</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=application/x-tex>0 \sim n - 1</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6444em class=strut></span><span class=mord>0</span><span style=margin-right:.2778em class=mspace></span><span class=mrel>∼</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:.6667em;vertical-align:-.0833em class=strut></span><span class="mord mathnormal">n</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6444em class=strut></span><span class=mord>1</span></span></span></span>艘船运输；</li><li>第<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding=application/x-tex>1\sim n</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6444em class=strut></span><span class=mord>1</span><span style=margin-right:.2778em class=mspace></span><span class=mrel>∼</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:.4306em class=strut></span><span class="mord mathnormal">n</span></span></span></span>艘船没有运输全部<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>种物资；</li></ol><p>现在问你：<strong>一共有多少种运输方案？</strong>（对 1e9 + 7 取模）</p><h4 id=题解>题解</h4><p>那么看起来很难（确实很难），我们用一个矩阵来理解。</p><p>假设每一行从左往右从 0 开始，到<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>n</mi></mrow><annotation encoding=application/x-tex>n</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.4306em class=strut></span><span class="mord mathnormal">n</span></span></span></span>结束；每一列由上而下从 1 开始，从<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>结束。</p><p>我们规定 0 代表第<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>i</mi></mrow><annotation encoding=application/x-tex>i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6595em class=strut></span><span class="mord mathnormal">i</span></span></span></span>艘船选择了第<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>j</mi></mrow><annotation encoding=application/x-tex>j</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.854em;vertical-align:-.1944em class=strut></span><span style=margin-right:.05724em class="mord mathnormal">j</span></span></span></span>种物质；1 就代表选择。那么我们可以用(i, j)来表示一个状态，从这里开始分析；</p><ol><li>首先明确题面，我们不需要运输完所有的<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>种物资，那么我们从 1 到<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>枚举一个实数<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>i</mi></mrow><annotation encoding=application/x-tex>i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6595em class=strut></span><span class="mord mathnormal">i</span></span></span></span>，代表有<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>i</mi></mrow><annotation encoding=application/x-tex>i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6595em class=strut></span><span class="mord mathnormal">i</span></span></span></span>种物质没有被取走；</li><li>那么我们很简单可以知道这样一共有<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mn>2</mn><mi>i</mi></msup></mrow><annotation encoding=application/x-tex>{C}_{k}^{i}\times2^i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.1078em;vertical-align:-.2831em class=strut></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8247em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>种情况</li><li>接下来我们开始考虑其他的取走的物品的情况<ol><li>因为头尾的两艘船十分特殊，我们先不考虑它们，先考虑<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=application/x-tex>1\sim n - 1</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6444em class=strut></span><span class=mord>1</span><span style=margin-right:.2778em class=mspace></span><span class=mrel>∼</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:.6667em;vertical-align:-.0833em class=strut></span><span class="mord mathnormal">n</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6444em class=strut></span><span class=mord>1</span></span></span></span>；</li><li>每一条船可以取也可以不取，一共是<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding=application/x-tex>2 ^ {n - 1}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.8141em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mtight mbin">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>种情况</li><li>因为我们现在不知道头尾的情况，我们先去掉都是 1 和都是 0 的情况，也就是-2</li><li>我们再考虑前后两个特殊的值，把刚才的式子再乘以<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding=application/x-tex>2^2</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.8141em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>；</li><li>最后我们要把刚刚去掉的全部都是 1 和 0 的情况补回来，有下面四种合法情况<ol><li>0 111111111111…111</li><li>0 111111111111…110</li><li>1 000000000000…001</li><li>1 000000000000…000</li></ol></li><li>那么此时我们单个物资的情况就是<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mrow><mo fence=true>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>2</mn><mo fence=true>)</mo></mrow><mo>×</mo><mn>4</mn><mo>+</mo><mn>4</mn></mrow><annotation encoding=application/x-tex>\left(2^{n-1}-2\right)\times4+4</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.2em;vertical-align:-.35em class=strut></span><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mtight mbin">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span><span class=mord>2</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.7278em;vertical-align:-.0833em class=strut></span><span class=mord>4</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6444em class=strut></span><span class=mord>4</span></span></span></span>；</li><li>最后此时我们有<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow><annotation encoding=application/x-tex>k - i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.7778em;vertical-align:-.0833em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6595em class=strut></span><span class="mord mathnormal">i</span></span></span></span>种物质被取走了，那么最后的结果是<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mrow><mo fence=true>(</mo><mrow><mo fence=true>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>2</mn><mo fence=true>)</mo></mrow><mo>×</mo><mn>4</mn><mo>+</mo><mn>4</mn><mo fence=true>)</mo></mrow><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup></mrow><annotation encoding=application/x-tex>{\left(\left(2^{n-1}-2\right)\times4+4\right)}^{k - i}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.439em;vertical-align:-.35em class=strut></span><span class=mord><span class=mord><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mtight mbin">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span><span class=mord>2</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span><span class=mord>4</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span><span class=mord>4</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:1.089em class=vlist><span style=top:-3.3029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span></span></li></ol></li><li>现在我们可以得到一个式子<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mtext> </mtext><mn>1</mn></mrow><mi>k</mi></msubsup><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mn>2</mn><mi>i</mi></msup><mo>×</mo><msup><mrow><mo fence=true>(</mo><mrow><mo fence=true>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>2</mn><mo fence=true>)</mo></mrow><mo>×</mo><mn>4</mn><mo>+</mo><mn>4</mn><mo fence=true>)</mo></mrow><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup></mrow><annotation encoding=application/x-tex>\sum_{i=\:1}^k{C}_{k}^{i}\times2^i\times{\left(\left(2^{n-1}-2\right)\times4+4\right)}^{k - i}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.2887em;vertical-align:-.2997em class=strut></span><span class=mop><span style=position:relative;top:0 class="mop op-symbol small-op">∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mrel">=</span><span style=margin-right:.2602em class="mtight mspace"></span><span class="mord mtight">1</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2997em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.1667em class=mspace></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.908em;vertical-align:-.0833em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1.439em;vertical-align:-.35em class=strut></span><span class=mord><span class=mord><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mtight mbin">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span><span class=mord>2</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span><span class=mord>4</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span><span class=mord>4</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:1.089em class=vlist><span style=top:-3.3029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span></span>；</li><li>但是这样我们处理非常麻烦，需要化简（使用二项式定理）：<ol><li>二项式定理：<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>(</mo><mi>a</mi><mo>+</mo><mi>b</mi><msup><mo stretchy=false>)</mo><mi>k</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mtext> </mtext><mn>0</mn></mrow><mi>k</mi></msubsup><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mi>a</mi><mi>i</mi></msup><mo>×</mo><msup><mi>b</mi><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup></mrow><annotation encoding=application/x-tex>(a+b)^k=\sum_{i=\:0}^k{C}_{k}^{i}\times a^i\times b^{k-i}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mopen>(</span><span class="mord mathnormal">a</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1.0991em;vertical-align:-.25em class=strut></span><span class="mord mathnormal">b</span><span class=mclose><span class=mclose>)</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8491em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span><span style=margin-right:.2778em class=mspace></span><span class=mrel>=</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:1.2887em;vertical-align:-.2997em class=strut></span><span class=mop><span style=position:relative;top:0 class="mop op-symbol small-op">∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mrel">=</span><span style=margin-right:.2602em class="mtight mspace"></span><span class="mord mtight">0</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2997em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.1667em class=mspace></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.908em;vertical-align:-.0833em class=strut></span><span class=mord><span class="mord mathnormal">a</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8491em class=strut></span><span class=mord><span class="mord mathnormal">b</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8491em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span></span></li><li>我们把<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mrow><mo fence=true>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>2</mn><mo fence=true>)</mo></mrow><mo>×</mo><mn>4</mn><mo>+</mo><mn>4</mn></mrow><annotation encoding=application/x-tex>\left(2^{n-1}-2\right)\times4+4</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.2em;vertical-align:-.35em class=strut></span><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mtight mbin">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span><span class=mord>2</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.7278em;vertical-align:-.0833em class=strut></span><span class=mord>4</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6444em class=strut></span><span class=mord>4</span></span></span></span>用一个变量<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>R</mi></mrow><annotation encoding=application/x-tex>R</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6833em class=strut></span><span style=margin-right:.00773em class="mord mathnormal">R</span></span></span></span>代替，重写得到 <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mtext> </mtext><mn>1</mn></mrow><mi>k</mi></msubsup><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mn>2</mn><mi>i</mi></msup><mo>×</mo><msup><mi>r</mi><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup></mrow><annotation encoding=application/x-tex>\sum_{i=\:1}^k{C}_{k}^{i}\times2^i\times{r}^{k - i}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.2887em;vertical-align:-.2997em class=strut></span><span class=mop><span style=position:relative;top:0 class="mop op-symbol small-op">∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mrel">=</span><span style=margin-right:.2602em class="mtight mspace"></span><span class="mord mtight">1</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2997em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.1667em class=mspace></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.908em;vertical-align:-.0833em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8491em class=strut></span><span class=mord><span class=mord><span style=margin-right:.02778em class="mord mathnormal">r</span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8491em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span></span>；</li><li>容易发现<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mtext> </mtext><mn>0</mn></mrow><mi>k</mi></msubsup><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mn>2</mn><mi>i</mi></msup><mo>×</mo><msup><mi>r</mi><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup><mo>=</mo><msup><mrow><mo fence=true>(</mo><mi>r</mi><mo>+</mo><mn>2</mn><mo fence=true>)</mo></mrow><mi>k</mi></msup></mrow><annotation encoding=application/x-tex>\sum_{i=\:0}^k{C}_{k}^{i}\times2^i\times{r}^{k-i}=\left(r+2\right)^k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.2887em;vertical-align:-.2997em class=strut></span><span class=mop><span style=position:relative;top:0 class="mop op-symbol small-op">∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mrel">=</span><span style=margin-right:.2602em class="mtight mspace"></span><span class="mord mtight">0</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2997em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.1667em class=mspace></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.908em;vertical-align:-.0833em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8491em class=strut></span><span class=mord><span class=mord><span style=margin-right:.02778em class="mord mathnormal">r</span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8491em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span><span style=margin-right:.2778em class=mspace></span><span class=mrel>=</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:1.239em;vertical-align:-.25em class=strut></span><span class=minner><span class=minner><span style=top:0 class="mopen delimcenter">(</span><span style=margin-right:.02778em class="mord mathnormal">r</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span><span class=mord>2</span><span style=top:0 class="mclose delimcenter">)</span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span></span></span></span>，但是这里的<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>i</mi></mrow><annotation encoding=application/x-tex>i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6595em class=strut></span><span class="mord mathnormal">i</span></span></span></span>是从 0 开始的，我们还需要减去；</li><li>最终化简结果为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mtext> </mtext><mn>1</mn></mrow><mi>k</mi></msubsup><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mn>2</mn><mi>i</mi></msup><mo>×</mo><msup><mrow><mo fence=true>(</mo><mrow><mo fence=true>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>2</mn><mo fence=true>)</mo></mrow><mo>×</mo><mn>4</mn><mo>+</mo><mn>4</mn><mo fence=true>)</mo></mrow><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mtext> </mtext><mn>1</mn></mrow><mi>k</mi></msubsup><msubsup><mi>C</mi><mi>k</mi><mi>i</mi></msubsup><mo>×</mo><msup><mn>2</mn><mi>i</mi></msup><mo>×</mo><msup><mi>r</mi><mrow><mi>k</mi><mo>−</mo><mi>i</mi></mrow></msup><mo>=</mo><msup><mrow><mo fence=true>(</mo><msup><mn>2</mn><mrow></mrow></msup><mo>+</mo><mi>r</mi><mo fence=true>)</mo></mrow><mi>k</mi></msup><mo>−</mo><msup><mi>r</mi><mi>k</mi></msup></mrow><annotation encoding=application/x-tex>\sum_{i=\:1}^k{C}_{k}^{i}\times2^i\times{\left(\left(2^{n-1}-2\right)\times4+4\right)}^{k-i}=\sum_{i=\:1}^k{C}_{k}^{i}\times2^i\times{r}^{k-i}=\left(2^{}+r\right)^k-r^k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.2887em;vertical-align:-.2997em class=strut></span><span class=mop><span style=position:relative;top:0 class="mop op-symbol small-op">∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mrel">=</span><span style=margin-right:.2602em class="mtight mspace"></span><span class="mord mtight">1</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2997em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.1667em class=mspace></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.908em;vertical-align:-.0833em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1.439em;vertical-align:-.35em class=strut></span><span class=mord><span class=mord><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=minner><span style=top:0 class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mtight mbin">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span><span class=mord>2</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span><span class=mord>4</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span><span class=mord>4</span><span style=top:0 class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:1.089em class=vlist><span style=top:-3.3029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span><span style=margin-right:.2778em class=mspace></span><span class=mrel>=</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:1.2887em;vertical-align:-.2997em class=strut></span><span class=mop><span style=position:relative;top:0 class="mop op-symbol small-op">∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mrel">=</span><span style=margin-right:.2602em class="mtight mspace"></span><span class="mord mtight">1</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2997em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.1667em class=mspace></span><span class=mord><span class=mord><span style=margin-right:.07153em class="mord mathnormal">C</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-2.4169em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2831em class=vlist><span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.908em;vertical-align:-.0833em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8247em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8491em class=strut></span><span class=mord><span class=mord><span style=margin-right:.02778em class="mord mathnormal">r</span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8491em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span><span style=margin-right:.2778em class=mspace></span><span class=mrel>=</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:1.239em;vertical-align:-.25em class=strut></span><span class=minner><span class=minner><span style=top:0 class="mopen delimcenter">(</span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.363em class=vlist><span style=top:-2.363em;margin-right:.05em><span style=height:2em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"></span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span><span style=margin-right:.02778em class="mord mathnormal">r</span><span style=top:0 class="mclose delimcenter">)</span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.989em class=vlist><span style=top:-3.2029em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8491em class=strut></span><span class=mord><span style=margin-right:.02778em class="mord mathnormal">r</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8491em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span></span></span></span></li></ol></li><li>最后使用快速幂计算输出。</li></ol><blockquote><p>注意最后有减法，不要忘记加上 mod 之后再减避免出现负数</p></blockquote><h4 id=fix-代码>FIX 代码</h4><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div><div class=line>12</div><div class=line>13</div><div class=line>14</div><div class=line>15</div><div class=line>16</div><div class=line>17</div><div class=line>18</div><div class=line>19</div><div class=line>20</div><div class=line>21</div><div class=line>22</div><div class=line>23</div><div class=line>24</div><div class=line>25</div><div class=line>26</div><div class=line>27</div><div class=line>28</div><div class=line>29</div><div class=line>30</div><div class=line>31</div><div class=line>32</div><div class=line>33</div><div class=line>34</div><div class=line>35</div><div class=line>36</div><div class=line>37</div><div class=line>38</div><div class=line>39</div><div class=line>40</div><div class=line>41</div><div class=line>42</div><div class=line>43</div><div class=line>44</div><div class=line>45</div><div class=line>46</div><div class=line>47</div><div class=line>48</div><div class=line>49</div><div class=line>50</div><div class=line>51</div><div class=line>52</div><div class=line>53</div><div class=line>54</div><div class=line>55</div><div class=line>56</div><div class=line>57</div><div class=line>58</div><div class=line>59</div><div class=line>60</div><div class=line>61</div><div class=line>62</div><div class=line>63</div><div class=line>64</div><div class=line>65</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;iostream></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstring></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstdio></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;vector></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cmath></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> fastio</span><span style=color:#005cc5;--shiki-dark:#79B8FF>                   \</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    ios</span><span style=color:#24292e;--shiki-dark:#E1E4E8>::</span><span style=color:#6f42c1;--shiki-dark:#B392F0>sync_with_stdio</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>false</span><span style=color:#24292e;--shiki-dark:#E1E4E8>); </span><span style=color:#005cc5;--shiki-dark:#79B8FF>\</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    cin.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>tie</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>);                  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>\</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    cout.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>tie</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> ll</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> mod</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1000000007</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>using</span><span style=color:#d73a49;--shiki-dark:#F97583> namespace</span><span style=color:#6f42c1;--shiki-dark:#B392F0> std</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>ll</span><span style=color:#6f42c1;--shiki-dark:#B392F0> pow</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#6f42c1;--shiki-dark:#B392F0>ll</span><span style=color:#e36209;--shiki-dark:#FFAB70> a</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6f42c1;--shiki-dark:#B392F0>ll</span><span style=color:#e36209;--shiki-dark:#FFAB70> b</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>	a </span><span style=color:#d73a49;--shiki-dark:#F97583>%=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> mod;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    ll ans </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>	for</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(; b; b </span><span style=color:#d73a49;--shiki-dark:#F97583>>>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>	{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>		if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (b </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) ans </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ans </span><span style=color:#d73a49;--shiki-dark:#F97583>*</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>%</span><span style=color:#24292e;--shiki-dark:#E1E4E8> mod;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>		a </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>*</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>%</span><span style=color:#24292e;--shiki-dark:#E1E4E8> mod;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>	}</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>	return</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ans;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> main</span><span style=color:#24292e;--shiki-dark:#E1E4E8>()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    fastio;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"maruyu.in"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"r"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdin);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"maruyu.out"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"w"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdout);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> t;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>t);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    while</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (t</span><span style=color:#d73a49;--shiki-dark:#F97583>--</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        ll n, k;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%lld%lld</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>n, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>k);</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 首先明确题目，我们不需要取完所有的K种物品</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 那么我们枚举i(1~k)假设有i种物品没有被取</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 一共就是C(i, k) * 2 ^ i种情况</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 开始考虑其他取走的物品</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 因为题目有两个条件，我们先考虑不受影响的1~n - 1</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 每一条船可以取也可以不取，一共是2 ^ (n - 1)种情况</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 那么如果都是1或者都是0是会影响的，我们暂时去掉-2</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 考虑前后两个，都有01两种情况，一共四种使用乘法公式</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 最后我们要把之前去掉的情况补回来，有下面四种情况</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// - 0 111111111111...111</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// - 0 111111111111...110</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// - 1 000000000000...001</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// - 1 000000000000...000</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 那么最后我们还要计算所有剩下的情况，一共是^(k - i)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 此时结果是：i : [1~K] C(i, k) * (2 ^ i) * ((2 ^ (n - 1)) * 4 + 4) ^ (k - i)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 我们可以用二项式定理化简：</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// - 二项式定理：(a + b) ^ k = i : [0~k] C(i, k) * a ^ i * b ^ (k - i)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 我们把(2 ^ (n - 1)) * 4 + 4)当做r</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 此时式子为                         i : [1~K] C(i, k) * 2 ^ i * r ^ (k - i)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 显然我们发现这个式子和 (2 + r) ^ k = i : [0~k] C(i, k) * 2 ^ i * r ^ (k - i)很像</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 但是我们的i是从1开始的，二项式定理的i是从0开始</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 所以我们最后要剪去多余的0</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 最后化简的式子为: (2 + r) ^ k - r ^ k</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>// 整理得 ans = 2 ^ k * ((2 ^ n - 1) ^ k - (2 ^ n - 2) ^ k)</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        printf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d\n</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6f42c1;--shiki-dark:#B392F0>pow</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>LL</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, k) </span><span style=color:#d73a49;--shiki-dark:#F97583>*</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#6f42c1;--shiki-dark:#B392F0>pow</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#6f42c1;--shiki-dark:#B392F0>pow</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>ll</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, n) </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, k) </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#6f42c1;--shiki-dark:#B392F0> pow</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#6f42c1;--shiki-dark:#B392F0>pow</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>LL</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, n) </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, k) </span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#24292e;--shiki-dark:#E1E4E8> mod) </span><span style=color:#d73a49;--shiki-dark:#F97583>%</span><span style=color:#24292e;--shiki-dark:#E1E4E8> mod);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><h3 id=2-truck>2. truck</h3><p>我本来的想法是二分答案验证联通，但是发现复杂度为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>Q</mi><mo>∗</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=false>(</mo><mi>N</mi><mo>+</mo><mi>M</mi><mo stretchy=false>)</mo><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(Q * \log N(N + M))</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span style=margin-right:.02778em class="mord mathnormal">O</span><span class=mopen>(</span><span class="mord mathnormal">Q</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>∗</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mop>lo<span style=margin-right:.01389em>g</span></span><span style=margin-right:.1667em class=mspace></span><span style=margin-right:.10903em class="mord mathnormal">N</span><span class=mopen>(</span><span style=margin-right:.10903em class="mord mathnormal">N</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span style=margin-right:.10903em class="mord mathnormal">M</span><span class=mclose>))</span></span></span></span>，得分 60Pt。</p><h4 id=题解-1>题解</h4><blockquote><p>思路来自 HYX 大佬，而非 std</p></blockquote><p>主要思想：<code>最大生成树</code>&#x26;<code>并查集</code></p><p>首先我们使用<code>pair</code>离线存贮所有的提问，因为是无向图，我们要双向存储。其中 first 代表的是目标节点，second 代表的是提问编号。</p><p>我们把所有的边放在一个<code>vector</code>中，然后定义以边权从大到小排序，用来做最大生成树；</p><h5 id=为什么这样做>为什么这样做？</h5><blockquote><p>翻译一下题面，就是我们要找两点之间简单路径上面最大的最小值！ 可能有点拗口，就是在保证联通的情况下，我们这一条路径上面的最小值尽可能大 那么我们就可以用最大生成树，把边从大到小依次添加，直到 uv 在同一个连通块里面 那么此时添加的这一条边就是 uv 两点之间简单路径上面最大的最小值，也就是答案 那么就很简单了，我们从大到小添加边，然后合并，直到 uv 合并，记录 ans 那么我们只需要遍历提问，然后操作并查集，通过<code>路径压缩</code>和<code>启发式合并</code>完全可以通过题目</p></blockquote><h4 id=算法实现>算法实现</h4><p>联系我们之前强连通分量的内容，其实我们这里并查集做的事情差不多，就是把几个点合并成一个点。那么我们先定义一个数组<code>fa</code>代表这个点从属于哪个大点。刚开始<code>fa</code>是他们自己，每次把小的合并到大的，更新<code>fa</code>。</p><p>这里我们写一个函数来获得他从属于哪一个大点。</p><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> a</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#24292e;--shiki-dark:#E1E4E8> fa[a] </span><span style=color:#d73a49;--shiki-dark:#F97583>?</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>:</span><span style=color:#24292e;--shiki-dark:#E1E4E8> fa[a] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(fa[a]);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><p>这里我们<code>fa[a] = get_fa(fa[a])</code>是路径压缩，把父亲直接指向根，节省时间。</p><p>最后我们写合并函数。前面我们说了用<code>pair</code>来存储询问，那么其实每一次合并时也合并了询问，我们也要把询问放入并查集->我说过这就和合并几个点相同，其实刚开始每一个点都是一个大点，只不过他们只包含自己而已。</p><p>分析查询询问的过程，如果我们查询到的询问的目标在同一个大点中，说明只要连接这一条边，他们就联通了，此时我们把这一次询问的答案记录为此时的边权；如果不再一个大点中，我们就把它合并到一起，进入下一次合并的过程。</p><p>最后我们把这个大点归属到需要合并的点中，那么下一次<code>get_fa</code>时，里面所有小点的<code>fa</code>都会更新。</p><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>void</span><span style=color:#6f42c1;--shiki-dark:#B392F0> merge</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> sm</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> la</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> val</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>auto</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp : que[sm])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> v </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp.first;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> id </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp.second;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#6f42c1;--shiki-dark:#B392F0>get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(v) </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#24292e;--shiki-dark:#E1E4E8> la) ans[id] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> val;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        else</span><span style=color:#24292e;--shiki-dark:#E1E4E8> que[la].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(temp);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    fa[sm] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> la;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 合并</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><h4 id=代码>代码</h4><p>注意我们要保证时间复杂度在 log 内，需要严格把小的合并到大的，也就是所谓的启发式合并。</p><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div><div class=line>12</div><div class=line>13</div><div class=line>14</div><div class=line>15</div><div class=line>16</div><div class=line>17</div><div class=line>18</div><div class=line>19</div><div class=line>20</div><div class=line>21</div><div class=line>22</div><div class=line>23</div><div class=line>24</div><div class=line>25</div><div class=line>26</div><div class=line>27</div><div class=line>28</div><div class=line>29</div><div class=line>30</div><div class=line>31</div><div class=line>32</div><div class=line>33</div><div class=line>34</div><div class=line>35</div><div class=line>36</div><div class=line>37</div><div class=line>38</div><div class=line>39</div><div class=line>40</div><div class=line>41</div><div class=line>42</div><div class=line>43</div><div class=line>44</div><div class=line>45</div><div class=line>46</div><div class=line>47</div><div class=line>48</div><div class=line>49</div><div class=line>50</div><div class=line>51</div><div class=line>52</div><div class=line>53</div><div class=line>54</div><div class=line>55</div><div class=line>56</div><div class=line>57</div><div class=line>58</div><div class=line>59</div><div class=line>60</div><div class=line>61</div><div class=line>62</div><div class=line>63</div><div class=line>64</div><div class=line>65</div><div class=line>66</div><div class=line>67</div><div class=line>68</div><div class=line>69</div><div class=line>70</div><div class=line>71</div><div class=line>72</div><div class=line>73</div><div class=line>74</div><div class=line>75</div><div class=line>76</div><div class=line>77</div><div class=line>78</div><div class=line>79</div><div class=line>80</div><div class=line>81</div><div class=line>82</div><div class=line>83</div><div class=line>84</div><div class=line>85</div><div class=line>86</div><div class=line>87</div><div class=line>88</div><div class=line>89</div><div class=line>90</div><div class=line>91</div><div class=line>92</div><div class=line>93</div><div class=line>94</div><div class=line>95</div><div class=line>96</div><div class=line>97</div><div class=line>98</div><div class=line>99</div><div class=line>100</div><div class=line>101</div><div class=line>102</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;algorithm></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;iostream></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstring></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstdio></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;queue></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> fastio</span><span style=color:#005cc5;--shiki-dark:#79B8FF>                   \</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    ios</span><span style=color:#24292e;--shiki-dark:#E1E4E8>::</span><span style=color:#6f42c1;--shiki-dark:#B392F0>sync_with_stdio</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>false</span><span style=color:#24292e;--shiki-dark:#E1E4E8>); </span><span style=color:#005cc5;--shiki-dark:#79B8FF>\</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    cin.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>tie</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>);                  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>\</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    cout.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>tie</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> N</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 100005</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> T_u</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> T_v</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>using</span><span style=color:#d73a49;--shiki-dark:#F97583> namespace</span><span style=color:#6f42c1;--shiki-dark:#B392F0> std</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>struct</span><span style=color:#6f42c1;--shiki-dark:#B392F0> truck</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> u, v;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> val;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    truck</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> a</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> b</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> c</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        u </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        v </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> b;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        val </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> c;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    truck</span><span style=color:#24292e;--shiki-dark:#E1E4E8>()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        u </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        v </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        val </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>};</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>truck</span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> edge;</span><span style=color:#6a737d;--shiki-dark:#6A737D>            // 直接存储无向边</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>pair</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> que[N];</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 保存从N到&#x3C;first>的第&#x3C;second>次询问</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> fa[N];</span><span style=color:#6a737d;--shiki-dark:#6A737D>                     // 并查集的父亲代表元素</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ans[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>300005</span><span style=color:#24292e;--shiki-dark:#E1E4E8>];</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>bool</span><span style=color:#6f42c1;--shiki-dark:#B392F0> cmp</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#6f42c1;--shiki-dark:#B392F0>truck</span><span style=color:#e36209;--shiki-dark:#FFAB70> a</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6f42c1;--shiki-dark:#B392F0>truck</span><span style=color:#e36209;--shiki-dark:#FFAB70> b</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a.val </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> b.val;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> a</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#24292e;--shiki-dark:#E1E4E8> fa[a] </span><span style=color:#d73a49;--shiki-dark:#F97583>?</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a </span><span style=color:#d73a49;--shiki-dark:#F97583>:</span><span style=color:#24292e;--shiki-dark:#E1E4E8> fa[a] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(fa[a]);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>void</span><span style=color:#6f42c1;--shiki-dark:#B392F0> merge</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> sm</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> la</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> val</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>auto</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp : que[sm])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> v </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp.first;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> id </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp.second;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#6f42c1;--shiki-dark:#B392F0>get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(v) </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#24292e;--shiki-dark:#E1E4E8> la)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            ans[id] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> val;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        else</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            que[la].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(temp);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    fa[sm] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> la;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> main</span><span style=color:#24292e;--shiki-dark:#E1E4E8>()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    fastio;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"truck.in"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"r"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdin);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"truck.out"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"w"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdout);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n, m;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>n, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>m);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> m; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> u, v, w;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d%d%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>u, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>v, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>w);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        edge.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#6f42c1;--shiki-dark:#B392F0>truck</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(u, v, w));</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        fa[i] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> q;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>q);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> q; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> u, v;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        ans[i] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#d73a49;--shiki-dark:#F97583> -</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>u, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>v);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        que[u].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>({v, i});</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        que[v].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>({u, i});</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    sort</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(edge.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>begin</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(), edge.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>end</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(), cmp);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (truck temp : edge)</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 从大开始合并</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> sm </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(temp.u);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> la </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> get_fa</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(temp.v);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (sm </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#24292e;--shiki-dark:#E1E4E8> la)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>            continue</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (que[sm].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>size</span><span style=color:#24292e;--shiki-dark:#E1E4E8>() </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> que[la].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>size</span><span style=color:#24292e;--shiki-dark:#E1E4E8>())</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>            swap</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(sm, la);</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 启发式合并</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        merge</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(sm, la, temp.val);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> q; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        printf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d\n</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, ans[i]);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><h2 id=7-月-16-日>7 月 16 日</h2><h3 id=1-xor>1. xor</h3><h4 id=题解-2>题解</h4><p>因为题面中 b 是严格递增的，那么我们可以不走回头路，在<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N^2)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.0641em;vertical-align:-.25em class=strut></span><span style=margin-right:.02778em class="mord mathnormal">O</span><span class=mopen>(</span><span class=mord><span style=margin-right:.10903em class="mord mathnormal">N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span>解决问题。</p><p>总的来说就是先存储前面两个元素 xor 的值有几个，然后在后面匹配。</p><h4 id=代码实现>代码实现</h4><p>首先定义<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>c</mi><mi>n</mi><msub><mi>t</mi><mi>k</mi></msub><mo stretchy=false>[</mo><mi>x</mi><mo stretchy=false>]</mo></mrow><annotation encoding=application/x-tex>cnt_{k}[x]</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class="mord mathnormal">c</span><span class="mord mathnormal">n</span><span class=mord><span class="mord mathnormal">t</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.3361em class=vlist><span style=top:-2.55em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.15em class=vlist><span></span></span></span></span></span></span><span class=mopen>[</span><span class="mord mathnormal">x</span><span class=mclose>]</span></span></span></span>的含义是<code>当第三个元素在k位置时</code>前两个元素 xor 的值为 x 的匹配个数。</p><p>我们先定一个指针<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>来指代第三个元素的位置。那么每次移动指针<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>k</mi></mrow><annotation encoding=application/x-tex>k</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6944em class=strut></span><span style=margin-right:.03148em class="mord mathnormal">k</span></span></span></span>时可以通过遍历<code>a[i] xor a[k]</code>，就可以直接处理好我们需要的<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>c</mi><mi>n</mi><msub><mi>t</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=application/x-tex>cnt_{k + 1}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.8234em;vertical-align:-.2083em class=strut></span><span class="mord mathnormal">c</span><span class="mord mathnormal">n</span><span class=mord><span class="mord mathnormal">t</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span style=height:.3361em class=vlist><span style=top:-2.55em;margin-left:0;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span style=margin-right:.03148em class="mord mathnormal mtight">k</span><span class="mtight mbin">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span style=height:.2083em class=vlist><span></span></span></span></span></span></span></span></span></span>，这段操作不计时间复杂度。</p><p>然后我们从<code>k + 1</code>开始遍历第四个元素<code>l</code>的位置，每次<code>ans += cnt[a[k] ^ a[l]]</code>，也就是加上当前能够匹配上的元素。</p><p>遍历 k 和 l，时间复杂度为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N^2)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.0641em;vertical-align:-.25em class=strut></span><span style=margin-right:.02778em class="mord mathnormal">O</span><span class=mopen>(</span><span class=mord><span style=margin-right:.10903em class="mord mathnormal">N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span>，可以解决问题。</p><h4 id=代码-1>代码</h4><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div><div class=line>12</div><div class=line>13</div><div class=line>14</div><div class=line>15</div><div class=line>16</div><div class=line>17</div><div class=line>18</div><div class=line>19</div><div class=line>20</div><div class=line>21</div><div class=line>22</div><div class=line>23</div><div class=line>24</div><div class=line>25</div><div class=line>26</div><div class=line>27</div><div class=line>28</div><div class=line>29</div><div class=line>30</div><div class=line>31</div><div class=line>32</div><div class=line>33</div><div class=line>34</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;iostream></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstring></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstdio></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> N</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1048576</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 注意 2^20</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> ll</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>using</span><span style=color:#d73a49;--shiki-dark:#F97583> namespace</span><span style=color:#6f42c1;--shiki-dark:#B392F0> std</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>ll n, ans;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>ll cnt[N];</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a[N];</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> main</span><span style=color:#24292e;--shiki-dark:#E1E4E8>()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"xor.in"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"r"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdin);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"xor.out"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"w"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdout);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%lld</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>n);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>a[i]);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> k </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; k </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n; k</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> l </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> k </span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; l </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n; l</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        {</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            ans </span><span style=color:#d73a49;--shiki-dark:#F97583>+=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> cnt[a[k] </span><span style=color:#d73a49;--shiki-dark:#F97583>^</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a[l]];</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> k; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            cnt[a[i] </span><span style=color:#d73a49;--shiki-dark:#F97583>^</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a[k]]</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    printf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%lld</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, ans);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line></span></code></pre></div></div></figure><h4 id=2-multiplication>2. multiplication</h4><h4 id=题解-3>题解</h4><p>反正我们不知道谁是谁，我们直接假设元素从小到大排列整齐，方便分析。</p><p>那么排好之后是一个<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>[</mo><mn>0</mn><mo separator=true>,</mo><mi>p</mi><mo>−</mo><mn>1</mn><mo stretchy=false>]</mo><mo>×</mo><mo stretchy=false>[</mo><mn>0</mn><mo separator=true>,</mo><mi>p</mi><mo>−</mo><mn>1</mn><mo stretchy=false>]</mo></mrow><annotation encoding=application/x-tex>[0, p-1] \times [0, p-1]</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mopen>[</span><span class=mord>0</span><span class=mpunct>,</span><span style=margin-right:.1667em class=mspace></span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mord>1</span><span class=mclose>]</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mopen>[</span><span class=mord>0</span><span class=mpunct>,</span><span style=margin-right:.1667em class=mspace></span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mord>1</span><span class=mclose>]</span></span></span></span>的一个<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>p</mi><mo>×</mo><mi>p</mi></mrow><annotation encoding=application/x-tex>p \times p</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.7778em;vertical-align:-.1944em class=strut></span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.625em;vertical-align:-.1944em class=strut></span><span class="mord mathnormal">p</span></span></span></span>矩阵，很像我们的 99 乘法表。</p><p>那么用我们聪明的小脑袋想一想，如果是<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>n</mi><mo>×</mo><mi>p</mi><mo stretchy=false>(</mo><mi>n</mi><mo>&#x3C;</mo><mi>p</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>n \times p (n &#x3C; p)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.6667em;vertical-align:-.0833em class=strut></span><span class="mord mathnormal">n</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class="mord mathnormal">p</span><span class=mopen>(</span><span class="mord mathnormal">n</span><span style=margin-right:.2778em class=mspace></span><span class=mrel>&#x3C;</span><span style=margin-right:.2778em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class="mord mathnormal">p</span><span class=mclose>)</span></span></span></span>，那么很显然十位就是<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>n</mi></mrow><annotation encoding=application/x-tex>n</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.4306em class=strut></span><span class="mord mathnormal">n</span></span></span></span>。但是我们最大为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>(</mo><mi>p</mi><mo>−</mo><mn>1</mn><mo stretchy=false>)</mo><mo>×</mo><mo stretchy=false>(</mo><mi>p</mi><mo>−</mo><mn>1</mn><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>(p-1) \times (p-1)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mopen>(</span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mord>1</span><span class=mclose>)</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>×</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mopen>(</span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mord>1</span><span class=mclose>)</span></span></span></span>，简单拆开就是<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>p</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><mi>p</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=application/x-tex>p^2-2p+1</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1.0085em;vertical-align:-.1944em class=strut></span><span class=mord><span class="mord mathnormal">p</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.8389em;vertical-align:-.1944em class=strut></span><span class=mord>2</span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>+</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:.6444em class=strut></span><span class=mord>1</span></span></span></span>，刚刚好得到的数字为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>[</mo><mi>p</mi><mo>−</mo><mn>2</mn><mo stretchy=false>]</mo><mo stretchy=false>[</mo><mn>1</mn><mo stretchy=false>]</mo></mrow><annotation encoding=application/x-tex>[p-2][1]</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mopen>[</span><span class="mord mathnormal">p</span><span style=margin-right:.2222em class=mspace></span><span class=mbin>−</span><span style=margin-right:.2222em class=mspace></span></span><span class=base><span style=height:1em;vertical-align:-.25em class=strut></span><span class=mord>2</span><span class=mclose>]</span><span class=mopen>[</span><span class=mord>1</span><span class=mclose>]</span></span></span></span>；</p><p>根据这个规律我们可以写出这样一个对应表：</p><p>|我们从 0 到 p-1 的数字| p-1 | | :title: 【题解】7 月 11 到 7 月 17 典例复习 tags:</p><ul><li>比赛</li><li>题解</li><li>复习</li><li>数论</li><li>快速幂</li><li>最大生成树</li><li>并查集 categories:</li><li>OI 学习笔记</li><li>题解 abbrlink: 427ba869 pubDate: 2023-07-17 00:00:00 image: <a href=https://saroprock.oss-cn-hangzhou.aliyuncs.com/img/7%E6%9C%8817%E6%97%A5.jpg>https://saroprock.oss-cn-hangzhou.aliyuncs.com/img/7%E6%9C%8817%E6%97%A5.jpg</a> badge: old</li></ul><hr><p>-----: | :-----------: | | 0 | [0][0] | | 1 | [0][p-1] | | 2 | [1][p-2] | | 3 | [2][p-3] | | … | … | | p-1 | [p-2][1] |</p><p>容易发现，一个正整数数在 p 进制下乘以 p-1，它的十位刚刚好就是它自己减一。</p><p>但是回过来，我们这个矩阵既不是有规律的，甚至于我们都不知道数字是几，但是我们可以通过其他方法记录这个值。</p><p>我们知道一个数最大时的十位是它自己减一，这说明什么？说明在之前的十位它都曾出现过。假设有一个数字三，乘以 p-1 得到一个数字十位为 2，这说明它在这个矩阵中一定有十位为 0，1，2 的数字。因为即使 p 最小最小为 3 时，每一次相乘也就是在之前的基础上加三，十位同时进一位，不可能有进两位的情况。</p><p>那么就简单了，我们只需要统计一个数在这个矩阵的一行中的数字的十位所出现的种类数，就是它。</p><blockquote><p>0 需要特判，因为 0 乘以任何数都是 0</p></blockquote><h4 id=代码-2>代码</h4><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div><div class=line>12</div><div class=line>13</div><div class=line>14</div><div class=line>15</div><div class=line>16</div><div class=line>17</div><div class=line>18</div><div class=line>19</div><div class=line>20</div><div class=line>21</div><div class=line>22</div><div class=line>23</div><div class=line>24</div><div class=line>25</div><div class=line>26</div><div class=line>27</div><div class=line>28</div><div class=line>29</div><div class=line>30</div><div class=line>31</div><div class=line>32</div><div class=line>33</div><div class=line>34</div><div class=line>35</div><div class=line>36</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;unordered_map></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;iostream></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstring></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstdio></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cmath></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> ll</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>using</span><span style=color:#d73a49;--shiki-dark:#F97583> namespace</span><span style=color:#6f42c1;--shiki-dark:#B392F0> std</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>const</span><span style=color:#d73a49;--shiki-dark:#F97583> int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> N </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2000</span><span style=color:#d73a49;--shiki-dark:#F97583> +</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> num[N];</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> p;</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> main</span><span style=color:#24292e;--shiki-dark:#E1E4E8>()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"multiplication.in"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"r"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdin);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"multiplication.out"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"w"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdout);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>p);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> p; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> tot </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        bool</span><span style=color:#24292e;--shiki-dark:#E1E4E8> zero </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> true</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        unordered_map</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int></span><span style=color:#24292e;--shiki-dark:#E1E4E8> hash;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> j </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; j </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> p; j</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        {</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>            int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a, b;</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>            scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>a, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>b);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>            if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (a </span><span style=color:#d73a49;--shiki-dark:#F97583>!=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> b) zero </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> false</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>            if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (hash.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>count</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(a)) </span><span style=color:#d73a49;--shiki-dark:#F97583>continue</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>            else</span><span style=color:#24292e;--shiki-dark:#E1E4E8> { tot</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; hash[a] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a; }</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        if</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>!</span><span style=color:#24292e;--shiki-dark:#E1E4E8>zero) num[i] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> tot;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> p; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6f42c1;--shiki-dark:#B392F0>printf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF> "</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, num[i]);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><h3 id=3-four>3. four</h3><h4 id=题解-4>题解</h4><p>这个题目很复杂，很烦躁，要静……</p><p>但是理解了之后，也非常的简单……</p><p>首先方案达到了<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mn>2</mn><mn>40</mn></msup></mrow><annotation encoding=application/x-tex>2^{40}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.8141em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight">40</span></span></span></span></span></span></span></span></span></span></span></span>级别，基本上属于摆烂的节奏，我们把它先分成两半再匹配，分开来是为了防止暴力爆炸，分成两份是保证脑子不爆炸。</p><p>我们先把分开来的 20 个元素变成<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mn>2</mn><mn>20</mn></msup></mrow><annotation encoding=application/x-tex>2^{20}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.8141em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span></span></span></span></span></span></span></span>个元素，可以直接这样写：</p><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> l; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> r; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int></span><span style=color:#24292e;--shiki-dark:#E1E4E8> t </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // instead dfs</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> x : temp)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        t.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(x </span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a[i]);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    temp </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> t;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><p>然后容我来讲解一下判断方法：</p><blockquote><ol><li>我们先在前后各<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mn>2</mn><mn>20</mn></msup></mrow><annotation encoding=application/x-tex>2^{20}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span style=height:.8141em class=strut></span><span class=mord><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span style=height:.8141em class=vlist><span style=top:-3.063em;margin-right:.05em><span style=height:2.7em class=pstrut></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span></span></span></span></span></span></span></span>中选出两个元素</li><li>通过<code>pw</code>取模拿出这两个元素的一段</li><li>然后相加这两项，那么我们可以简单判断是否在<code>pw + 1</code>位存在 4<ul><li>如果相加的值在[4 * 10^pw, 4.999… * 10^pw]或者[14 * 10^pw, 14.999… * 10^pw]</li><li>就说明在这种情况之下的<code>pw + 1</code>为 4</li></ul></li></ol></blockquote><p>就这么简单……我也想不到还有什么好说的了，自行阅读代码理解吧。</p><h4 id=代码-3>代码</h4><figure class="cpp highlight"><div class=highlight-tools><div class=code-lang>CPP</div></div><div class=highlight-code><div class=gutter><pre class=frosti-code><code><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div><div class=line>12</div><div class=line>13</div><div class=line>14</div><div class=line>15</div><div class=line>16</div><div class=line>17</div><div class=line>18</div><div class=line>19</div><div class=line>20</div><div class=line>21</div><div class=line>22</div><div class=line>23</div><div class=line>24</div><div class=line>25</div><div class=line>26</div><div class=line>27</div><div class=line>28</div><div class=line>29</div><div class=line>30</div><div class=line>31</div><div class=line>32</div><div class=line>33</div><div class=line>34</div><div class=line>35</div><div class=line>36</div><div class=line>37</div><div class=line>38</div><div class=line>39</div><div class=line>40</div><div class=line>41</div><div class=line>42</div><div class=line>43</div><div class=line>44</div><div class=line>45</div><div class=line>46</div><div class=line>47</div><div class=line>48</div><div class=line>49</div><div class=line>50</div><div class=line>51</div><div class=line>52</div><div class=line>53</div><div class=line>54</div><div class=line>55</div><div class=line>56</div><div class=line>57</div><div class=line>58</div><div class=line>59</div><div class=line>60</div><div class=line>61</div><div class=line>62</div><div class=line>63</div><div class=line>64</div><div class=line>65</div><div class=line>66</div><div class=line>67</div><div class=line>68</div><div class=line>69</div><div class=line>70</div><div class=line>71</div><div class=line>72</div><div class=line>73</div><div class=line>74</div><div class=line>75</div><div class=line>76</div><div class=line>77</div><div class=line>78</div><div class=line>79</div><div class=line>80</div><div class=line>81</div><div class=line>82</div><div class=line>83</div><div class=line>84</div><div class=line>85</div></code></pre></div><div class=code><pre class=frosti-code><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;iostream></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstring></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;cstdio></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;vector></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#include</span><span style=color:#032f62;--shiki-dark:#9ECBFF> &#x3C;array></span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>#define</span><span style=color:#6f42c1;--shiki-dark:#B392F0> ll</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span><span style=color:#d73a49;--shiki-dark:#F97583> long</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>using</span><span style=color:#d73a49;--shiki-dark:#F97583> namespace</span><span style=color:#6f42c1;--shiki-dark:#B392F0> std</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>44</span><span style=color:#24292e;--shiki-dark:#E1E4E8>];</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>array</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> le;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // left</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>array</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> ri;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // right</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>ll ans;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n;</span></span>
<span class=line></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>vector</span><span style=color:#24292e;--shiki-dark:#E1E4E8>&#x3C;</span><span style=color:#6f42c1;--shiki-dark:#B392F0>array</span><span style=color:#24292e;--shiki-dark:#E1E4E8>&#x3C;</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>>> </span><span style=color:#6f42c1;--shiki-dark:#B392F0>init</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> l</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> r</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int></span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp{</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>};</span><span style=color:#6a737d;--shiki-dark:#6A737D> // init 0</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> l; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> r; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int></span><span style=color:#24292e;--shiki-dark:#E1E4E8> t </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // instead dfs</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> x : temp)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            t.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(x </span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#24292e;--shiki-dark:#E1E4E8> a[i]);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        temp </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> t;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>    // 第一位是我们取出来的，第二位则是我们保存的这个数原有的值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>array</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> ret;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // first save now. second save old</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> x : temp)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        ret.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>({</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, x});</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ret;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>void</span><span style=color:#6f42c1;--shiki-dark:#B392F0> reorder</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#6f42c1;--shiki-dark:#B392F0>vector</span><span style=color:#24292e;--shiki-dark:#E1E4E8>&#x3C;</span><span style=color:#6f42c1;--shiki-dark:#B392F0>array</span><span style=color:#24292e;--shiki-dark:#E1E4E8>&#x3C;</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>>> </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#e36209;--shiki-dark:#FFAB70>str</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> pw</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    vector</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>array</span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;int</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#d73a49;--shiki-dark:#F97583>>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> v[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>];</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>auto</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [_, x] : str)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>	    // 这里我们重新取出pw + 1位并用第一个数字排序</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> head </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (x </span><span style=color:#d73a49;--shiki-dark:#F97583>/</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pw) </span><span style=color:#d73a49;--shiki-dark:#F97583>%</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // str_head -> |*^****...|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> val </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> x </span><span style=color:#d73a49;--shiki-dark:#F97583>%</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (pw </span><span style=color:#d73a49;--shiki-dark:#F97583>*</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>);</span><span style=color:#6a737d;--shiki-dark:#6A737D>  // str_val -> (int)|*****...|</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        v[head].</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>({val, x});</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    str.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>clear</span><span style=color:#24292e;--shiki-dark:#E1E4E8>();</span><span style=color:#6a737d;--shiki-dark:#6A737D> // remove</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 9</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>auto</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp : v[i])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            str.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>push_back</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(temp);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>ll</span><span style=color:#6f42c1;--shiki-dark:#B392F0> calc</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#e36209;--shiki-dark:#FFAB70> d</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>	// 假设都符合</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> r </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ri.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>size</span><span style=color:#24292e;--shiki-dark:#E1E4E8>();</span><span style=color:#6a737d;--shiki-dark:#6A737D> // if all</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    ll temp </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> l </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; l </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> le.</span><span style=color:#6f42c1;--shiki-dark:#B392F0>size</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(); l</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>        // cmp now > d ? check->NO : check->YES</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>        // 我们相加判断一下这个是否符合要求</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>        while</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (r </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#d73a49;--shiki-dark:#F97583> &#x26;&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ri[r </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>][</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#24292e;--shiki-dark:#E1E4E8> le[l][</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> d)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>            r</span><span style=color:#d73a49;--shiki-dark:#F97583>--</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span><span style=color:#6a737d;--shiki-dark:#6A737D> // cmp fail -> r-- -> find other</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        temp </span><span style=color:#d73a49;--shiki-dark:#F97583>+=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> r;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#24292e;--shiki-dark:#E1E4E8> temp;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#6f42c1;--shiki-dark:#B392F0> main</span><span style=color:#24292e;--shiki-dark:#E1E4E8>()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"four.in"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"r"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdin);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    freopen</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"four.out"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"w"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, stdout);</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>n);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        scanf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%d</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8>a[i]);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    le </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> init</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, n </span><span style=color:#d73a49;--shiki-dark:#F97583>/</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>);</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 20 -> 2^20</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    ri </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> init</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(n </span><span style=color:#d73a49;--shiki-dark:#F97583>/</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, n);</span><span style=color:#6a737d;--shiki-dark:#6A737D> // 20 -> 2^20</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (</span><span style=color:#d73a49;--shiki-dark:#F97583>int</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, pw </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>; i</span><span style=color:#d73a49;--shiki-dark:#F97583>++</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, pw </span><span style=color:#d73a49;--shiki-dark:#F97583>*=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    {</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        reorder</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(le, pw);</span><span style=color:#6a737d;--shiki-dark:#6A737D> // -> reorder -> cmp now -> check</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>        reorder</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(ri, pw);</span><span style=color:#6a737d;--shiki-dark:#6A737D> // -> reorder -> cmp now -> check</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>        // now -> [4 * 10^pw, 5 * 10^pw - 1]</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>        // or: -> [14 * 10^pw, 15 * 10^pw - 1]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        ans </span><span style=color:#d73a49;--shiki-dark:#F97583>+=</span><span style=color:#6f42c1;--shiki-dark:#B392F0> calc</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#d73a49;--shiki-dark:#F97583> *</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pw </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#6f42c1;--shiki-dark:#B392F0> calc</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#d73a49;--shiki-dark:#F97583> *</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pw </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#6f42c1;--shiki-dark:#B392F0> calc</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>15</span><span style=color:#d73a49;--shiki-dark:#F97583> *</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pw </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#6f42c1;--shiki-dark:#B392F0> calc</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>14</span><span style=color:#d73a49;--shiki-dark:#F97583> *</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pw </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>);</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class=line><span style=color:#6f42c1;--shiki-dark:#B392F0>    printf</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#005cc5;--shiki-dark:#79B8FF>%lld</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, ans);</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    return</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class=line></span></code></pre></div></div></figure><h2 id=7-月-15-日>7 月 15 日</h2><br><div class=alert role=alert><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg class="h-6 shrink-0 stroke-current w-6" fill=none><path d="M 21 12 a 9 9 0 1 1 -18 0 a 9 9 0 0 1 18 0 z" stroke-linecap=round stroke-linejoin=round stroke-width=2></path><path d="M14.646 9.00002C13.0379 7.58179 10.5975 7.6838 9.11336 9.23129C7.62921 10.7788 7.62921 13.2213 9.11336 14.7688C10.5975 16.3162 13.0379 16.4182 14.646 15" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg><div class=p-4><h3 class="font-bold mt-0">【题解】7月11到7月17典例复习</h3><a href=https://www.saroprock.com/blog/7月11日到7月17日典例复习/ class=text-xs>https://www.saroprock.com/blog/7月11日到7月17日典例复习/</a></div></div><br><link href=https://unpkg.com/@waline/client@v3/dist/waline-meta.css rel=stylesheet><div class=comment><div id=waline data-server-url=https://waline.saroprock.com></div></div><script type=module>import{init}from"https://unpkg.com/@waline/client@v3/dist/waline.js";const serverURL=document.getElementById("waline").getAttribute("data-server-url");init({el:"#waline",serverURL:serverURL,dark:'html[data-theme="dracula"]',reaction:["https://saroprock.s3.bitiful.net/good.png","https://saroprock.s3.bitiful.net/bad.png","https://saroprock.s3.bitiful.net/happy.png","https://saroprock.s3.bitiful.net/color.png","https://saroprock.s3.bitiful.net/confuse.png","https://saroprock.s3.bitiful.net/heart.png","https://saroprock.s3.bitiful.net/rocket.png","https://saroprock.s3.bitiful.net/eyes.png"],emoji:!1,search:!1})</script></div></div></main><footer class="relative bg-base-100 card shadow-xl footer gap-0 items-center items-start p-8 rounded-xl"><aside class="grid-flow-col items-center"><svg viewBox="0 0 24 24" height=36 width=36 class=fill-current xmlns=http://www.w3.org/2000/svg clip-rule=evenodd fill-rule=evenodd><path d="M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"></path></svg><p>Copyright © <a href=https://www.saroprock.com class=font-bold target=_blank>EveSunMaple</a> 2024 - All right reserved</p></aside><nav><p>Powered by <a href=https://github.com/EveSunMaple/Frosti class=font-bold target=_blank>Frosti Template ⚡️</a></p></nav></footer><br></div></div></div></div></body></html>