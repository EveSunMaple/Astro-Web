---
import GithubInfo from "../widget/GithubInfo.astro";
import CardHorizontal from "../layouts/CardHorizontal.astro";

interface Props {
  title: string;
  image?: string;
  desc: string;
  url: string;
  badge?: string;
  target?: string;
}

const { title, image, desc, url, badge, target = "_blank" } = Astro.props;
---

<CardHorizontal title={title} image={image} url={url}>
  <div class="relative w-full flex flex-col justify-between group">
    <!-- Title -->
    <a href={url} target={target} class="group/title inline-block">
      <h1
        id={title}
        class="text-3xl leading-normal pt-0 font-bold text-base-content bg-clip-text bg-gradient-to-r from-primary to-secondary transition-colors duration-300 hover:text-transparent"
      >
        {title}
      </h1>
    </a>

    <!-- Description -->
    <p class="mt-3 text-base-content/80 line-clamp-2">
      {desc}
    </p>

    <!-- Meta Information -->
    <div class="mt-6 flex flex-wrap items-center gap-3">
      {
        badge && (
          <span class="badge badge-outline px-3 py-1 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-primary/30 text-sm font-medium">
            {badge}
          </span>
        )
      }

      <!-- GitHub Info -->
      <div class="ml-auto">
        <GithubInfo url={url} />
      </div>
    </div>
  </div>
</CardHorizontal>

<style>
  .bg-pos-100 {
    background-position: 100% 0;
  }
</style>
